@using Model.EF
@model 問題
@{
	ViewBag.Title = "Index";
}

<br />
<ul class="nav nav-tabs formatFont12px">
	<li class="active">
		<a href="#edit" data-toggle="tab">編集</a>
	</li>
	<li>
		<a href="#list" data-toggle="tab">リストを　見る</a>
	</li>
</ul>
<div class="tab-content">
	<div class="tab-pane fade active in formatFont12px" id="edit">
		<br />
		@using (Html.BeginForm("Index", "問題", FormMethod.Post, new { enctype = "multipart/form-data" }))
		{
			@Html.AntiForgeryToken()
			@Html.ValidationSummary(true, "", new { @class = "error" })
			<div class="row">
				<div class="form-group col-md-3">
					@Html.LabelFor(model => model.問題ID, "　ID (Auto Increase)", new { @class = "control-label" })

					@Html.TextBoxFor(model => model.問題ID, new { @class = "form-control", @readonly = true })
					@Html.ValidationMessageFor(model => model.問題ID, "", new { @class = "error" })
				</div>
				<div class="form-group col-md-3">
					@Html.LabelFor(model => model.第課ID, "　第?課", new { @class = "control-label" })

					@Html.DropDownListFor(model => model.第課ID, (SelectList)ViewBag.第課List, new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.第課ID, "", new { @class = "error" })
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-10">
					@Html.LabelFor(model => model.問題の本, "　問題", new { @class = "control-label" })
					@Html.TextAreaFor(model => model.問題の本, new { @class = "form-control", id = "txt問題" })
					@Html.ValidationMessageFor(model => model.問題の本, "", new { @class = "error" })
				</div>
			</div>
			<div class="row">
				<div class="form-group col-md-10">
					@Html.LabelFor(model => model.ベトナム語, "　ベトナム語", new { @class = "control-label" })

					@Html.TextAreaFor(model => model.ベトナム語, new { @class = "form-control", id = "txtベトナム語" })
					@Html.ValidationMessageFor(model => model.ベトナム語, "", new { @class = "error" })
				</div>
			</div>

			<div class="row">
				<div class="form-group col-md-3">
					@Html.LabelFor(model => model.問題の写真, "　写真", new { @class = "control-label" })
					@Html.TextBoxFor(model => model.問題の写真, new { @class = "form-control", @readonly = true })
					<br />
					<input type="file" name="Up問題Image" />
					@Html.HiddenFor(model => model.問題の写真)
				</div>
				<div class="form-group col-md-3">
					@Html.LabelFor(model => model.問題Audio, "　AUDIO", new { @class = "control-label" })
					@Html.TextBoxFor(model => model.問題Audio, new { @class = "form-control", @readonly = true })
					<br />
					<input type="file" name="Up問題Audio" />
					@Html.HiddenFor(model => model.問題Audio)
				</div>
			</div>
			<hr />
			<div class="row">
				<div class="col-md-12">
					@Html.Partial("_ListButton")
				</div>
			</div>

		}
	</div>
	<div class="tab-pane fade formatFont12px" id="list">
		<div class="row">
			<div class="col-md-3">
				<br />
				@Html.DropDownList("ddl第課List", (SelectList)ViewBag.第課List, "Select 第課(Daika): ", new { @class = "form-control" })
				<br />
			</div>
		</div>
		<div class="row">
			<div id="divPartialView" class="col-md-12">
			</div>
		</div>
	</div>
</div>
@section scripts{
	<script>
		$(function () {

			var editor1 = CKEDITOR.replace('txt問題', {
				customConfig: '/Assets/plug-in/ckeditor/config.js',
				allowedContent: true
			});
			var editor2 = CKEDITOR.replace('txtベトナム語', {
				customConfig: '/Assets/plug-in/ckeditor/config.js',
				allowedContent: true
			});

			$("#ddl__List").change(function () {
				var 第課ID = $(this).val();

				$.ajax({
					url: '/Admin/問題/Get/',
					type: "Get",
					dataType: "html",
					data: { 第課ID: 第課ID },
					success: function (model) {
						$("#divPartialView").html(model);
					}
				});

			});
		});
	</script>
}